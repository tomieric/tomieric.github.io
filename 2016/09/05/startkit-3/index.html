
<!DOCTYPE html>
<html lang="zh-cn">
    
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="前端 - 分享园">
    <title>配置5小时开发2分钟系列（3）—— webpack 搭配 react - 前端 - 分享园</title>
    <meta name="author" content="TommyShao">
    
    
        <link rel="alternative" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <meta name="description" content="最近火遍朋友圈的 在 2016 年学 JavaScript 是一种什么样的体验？，如果有一天选择做了前端，请把我埋在，深深的配置里…

在前两年觉得前端是最容易入门上手的，而近两年感觉门槛高了，各种眼花缭乱的构建工具，各种配置。 
本篇带来的是 webpack 搭配 react">
<meta property="og:type" content="blog">
<meta property="og:title" content="配置5小时开发2分钟系列（3）—— webpack 搭配 react">
<meta property="og:url" content="http://tomieric.github.io/2016/09/05/startkit-3/index.html">
<meta property="og:site_name" content="前端 - 分享园">
<meta property="og:description" content="最近火遍朋友圈的 在 2016 年学 JavaScript 是一种什么样的体验？，如果有一天选择做了前端，请把我埋在，深深的配置里…

在前两年觉得前端是最容易入门上手的，而近两年感觉门槛高了，各种眼花缭乱的构建工具，各种配置。 
本篇带来的是 webpack 搭配 react">
<meta property="og:updated_time" content="2016-10-09T11:30:35.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="配置5小时开发2分钟系列（3）—— webpack 搭配 react">
<meta name="twitter:description" content="最近火遍朋友圈的 在 2016 年学 JavaScript 是一种什么样的体验？，如果有一天选择做了前端，请把我埋在，深深的配置里…

在前两年觉得前端是最容易入门上手的，而近两年感觉门槛高了，各种眼花缭乱的构建工具，各种配置。 
本篇带来的是 webpack 搭配 react">
<meta name="twitter:creator" content="@tomieric">
    
        <meta rel="publisher" content="https://plus.google.com/+tomieric"/>
    
    
    
        <meta property="og:image" content="/assets/images/avatar.jpg"/>
    
    
        <meta property="og:image" content="/2016/09/05/startkit-3/http:/oenwuky9h.bkt.clouddn.com/DSC_1275.jpg?imageView2/1/w/280/h/280/interlace/1/q/60"/>
        <meta class="swiftype" name="image" data-type="enum" content="http://tomieric.github.io/2016/09/05/startkit-3/http://oenwuky9h.bkt.clouddn.com/DSC_1275.jpg?imageView2/1/w/280/h/280/interlace/1/q/60" />
    
    
        <meta property="og:image" content="/2016/09/05/startkit-3/http:/oenwuky9h.bkt.clouddn.com/DSC_1275.jpg?imageView2/0/interlace/1/q/60"/>
        <meta class="swiftype" name="image" data-type="enum" content="http://tomieric.github.io/2016/09/05/startkit-3/http://oenwuky9h.bkt.clouddn.com/DSC_1275.jpg?imageView2/0/interlace/1/q/60" />
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style.min.css">
    <!--STYLES END-->
    
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-71323455-1']);
        _gaq.push(['_trackPageview']);
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="3">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="/ ">前端 - 分享园</a>
    </h1>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
            <img class="header-picture" src="/assets/images/avatar.jpg"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="3">
    
        <div class="sidebar-profile">
            <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/avatar.jpg"/>
            </a>
            <span class="sidebar-profile-name">TommyShao</span>
        </div>
    
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/ "
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">首页</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-categories"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                    <span class="sidebar-button-desc">分类</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-tags"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">标签</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-archives"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                    <span class="sidebar-button-desc">归档</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link st-search-show-outputs"
                         href="#search"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                    <span class="sidebar-button-desc">搜索</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://github.com/tomieric" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                    <span class="sidebar-button-desc">GitHub</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="http://weibo.com/tomieric" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-weibo"></i>
                    <span class="sidebar-button-desc">微博</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/atom.xml"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                    <span class="sidebar-button-desc">RSS</span>
                </a>
        </li>
        
    </ul>
    
</nav>

            
        <div class="post-header-cover
                    text-left
                    "
             style="background-image:url('http://oenwuky9h.bkt.clouddn.com/DSC_1275.jpg?imageView2/0/interlace/1/q/60');"
             data-behavior="3">
            
                <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title" itemprop="headline">
            配置5小时开发2分钟系列（3）—— webpack 搭配 react
        </h1>
    
    <div class="post-meta">
    <time itemprop="datePublished" content="Mon Sep 05 2016 00:00:00 GMT+0800">
	
		    9月 05, 2016
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/前端构建/">前端构建</a>


    
</div>
</div>
            
        </div>

            <div id="main" data-behavior="3"
                 class="hasCover
                        hasCoverMetaIn
                        ">
                
<article class="post" itemscope itemType="http://schema.org/BlogPosting">
    
    
    <div class="post-content markdown" itemprop="articleBody">
        <div class="main-content-wrap">
            <blockquote>
<p>最近火遍朋友圈的 <a href="https://www.v2ex.com/t/310767" target="_blank" rel="external">在 2016 年学 JavaScript 是一种什么样的体验？</a>，如果有一天选择做了前端，请把我埋在，深深的配置里…</p>
</blockquote>
<p>在前两年觉得前端是最容易入门上手的，而近两年感觉门槛高了，各种眼花缭乱的构建工具，各种配置。 </p>
<p>本篇带来的是 <code>webpack 搭配 react</code></p>
<a id="more"></a>
<h3 id="webpack-介绍"><a href="#webpack-介绍" class="headerlink" title="webpack 介绍"></a>webpack 介绍</h3><p><code>wepback</code> 是模块化构建工具，同类的用<code>browserify</code>,<code>FIS3</code>。<code>webpack</code>是支持<code>common.js</code>和<code>es6</code>模块化加载方式的系统，能根据模块化资源优化加载，抽取，合并等功能。非常适合单页面应用的 webapp 项目，同样的也支持多页面模块化管理，内置异步加载模块功能。主要组成部分：</p>
<ul>
<li>代码分割</li>
<li>loader加载</li>
<li>智能转换编译</li>
<li>插件系统</li>
</ul>
<h4 id="安装webpack"><a href="#安装webpack" class="headerlink" title="安装webpack"></a>安装webpack</h4><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">npm</span> init -<span class="literal">yes</span> </div><div class="line"><span class="built_in">npm</span> install webpack --save-dev</div></pre></td></tr></table></figure>
<p>安装完成后使用<code>webpack</code> 命令编译 js 文件</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">webpack <span class="tag">&lt;<span class="name">entry</span>&gt;</span> <span class="tag">&lt;<span class="name">output</span>&gt;</span></div></pre></td></tr></table></figure>
<p>或者使用默认配置文件<code>webpack.config.js</code>，编译时直接使用<code>webpack</code>即可。</p>
<p><code>webpack</code>的配置大致以下几点：</p>
<ul>
<li>context 上下文环境，一般不怎么使用, 默认是配置文件当前目录</li>
<li>entry   入口文件，字符串为单入口，数组为多入口，字面量对象声明{ 生成文件名: [入口文件]}</li>
<li>output  输出文件，声明输出文件名，目录，cdn 等</li>
<li>module  模块分割处理<ul>
<li>loaders 加载器，根据模块的后缀名分别配置不同的加载器处理</li>
<li>preLoaders, postLoaders 预加载后或编译后处理</li>
<li>noParse 忽略模块声明</li>
</ul>
</li>
<li>resolve   模块路径声明，同node寻找模块方式</li>
<li>devServer 搭载<code>webpack-dev-server</code>使用的配置</li>
<li>plugins   声明使用插件，比如 css，js 的压缩</li>
<li>etc.</li>
</ul>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">module.exports = &#123;</div><div class="line">    entry: &#123;</div><div class="line">        bundle: <span class="string">'./src/entry.js'</span></div><div class="line">    &#125;,</div><div class="line">    outpu<span class="variable">t:</span> &#123;</div><div class="line">        path: <span class="string">'./dist'</span>,</div><div class="line">        filename: <span class="string">'[name][hash].js'</span></div><div class="line">    &#125;,</div><div class="line">    module: &#123;</div><div class="line">        loader<span class="variable">s:</span> [</div><div class="line">            &#123;</div><div class="line">                tes<span class="variable">t:</span> /\.css$/,</div><div class="line">                loader: <span class="string">'style-loader!css-loader'</span></div><div class="line">            &#125;,</div><div class="line">            &#123;</div><div class="line">                tes<span class="variable">t:</span> /\.jsx?$/,</div><div class="line">                loader: <span class="string">'babel'</span>,</div><div class="line">                query: &#123;</div><div class="line">                    preset<span class="variable">s:</span> [<span class="string">'react'</span>, <span class="string">'es2015'</span>, <span class="string">'stage-2'</span>]</div><div class="line">                &#125;</div><div class="line">            &#125;,</div><div class="line">            // ...</div><div class="line">        ]</div><div class="line">    &#125;,</div><div class="line">    <span class="built_in">resolve</span>: &#123;</div><div class="line">        extension<span class="variable">s:</span> [<span class="string">''</span>, <span class="string">'.js'</span>, <span class="string">'.jsx'</span>, <span class="string">'.css'</span>, <span class="string">'.less'</span>]</div><div class="line">        roo<span class="variable">t:</span> [path.<span class="built_in">resolve</span>(<span class="string">'.src'</span>)]</div><div class="line">    &#125;,</div><div class="line">    plugin<span class="variable">s:</span> [</div><div class="line">        <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</div><div class="line">            template: <span class="string">'./src/index.html'</span>,</div><div class="line">            filename: <span class="string">'index.html'</span>,</div><div class="line">            injec<span class="variable">t:</span> <span class="string">'body'</span></div><div class="line">        &#125;)</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>使用<code>webpack-dev-server</code>搭配启动项目，在配置文件中增加</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">...</div><div class="line">    <span class="selector-tag">devServer</span>: &#123;</div><div class="line">        <span class="attribute">hot</span>: true,</div><div class="line">        host: <span class="string">'127.0.0.1'</span>,</div><div class="line">        port: <span class="number">3000</span>,</div><div class="line">        proxy: &#123;</div><div class="line">            <span class="string">'/Api/*'</span>: &#123;</div><div class="line">                target: <span class="string">'http://192.168.0.2:3000'</span>,</div><div class="line">                rewrite: <span class="built_in">function</span>(req) &#123;</div><div class="line">                    req.url = req.url.<span class="built_in">replace</span>(/^\/Api/, <span class="string">''</span>)</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">...</div></pre></td></tr></table></figure>
<p><a href="http://webpack.github.io/" target="_blank" rel="external">http://webpack.github.io/</a></p>
<h3 id="react-介绍"><a href="#react-介绍" class="headerlink" title="react 介绍"></a>react 介绍</h3><p><code>react</code> 是 facebook 开源的用户交互js 库，是单向的数据流模式，有区别于 mvvm 框架的<code>vue</code>, <code>angular</code>。 <code>react</code> 推出了自己的语法解析器 <code>jsx</code>，同样的支持 es6的写法， <code>react</code>是基于虚拟 dom（virtual Dom）因此具有良好的性能，包括最近比较火的微信小程序底层也是使用了<code>react</code>。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">HelloMessage</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</div><div class="line">  constructor(props) &#123;</div><div class="line">      <span class="keyword">super</span>(props)</div><div class="line">      <span class="keyword">this</span>.state = &#123;&#125;</div><div class="line">  &#125;  </div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> &lt;div&gt;<span class="type">Hello</span> &#123;<span class="keyword">this</span>.props.name&#125;&lt;/div&gt;;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="type">ReactDOM</span>.render(&lt;<span class="type">HelloMessage</span> name=<span class="string">"John"</span> /&gt;, mountNode);</div></pre></td></tr></table></figure>
<p>初学者建议在这里学习 <a href="http://babeljs.io/repl/" target="_blank" rel="external">http://babeljs.io/repl/</a></p>
<p><code>react</code> 主要涉及内容：</p>
<ul>
<li>require 包导入</li>
<li>react </li>
<li>react-dom </li>
<li>react.component </li>
<li>react-router</li>
<li>构造函数constructor</li>
<li>生命周期</li>
<li>父子组件值传递props</li>
<li>组件状态管理 state</li>
<li>jsx 语法标签</li>
<li>react 事件绑定</li>
</ul>
<p><strong>标准的组件写法</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * 组件规范</div><div class="line"> * by tommyshao</div><div class="line"> * 2016-08-03</div><div class="line"> */</div><div class="line"></div><div class="line"><span class="comment">// 引入React</span></div><div class="line"><span class="keyword">import</span> React,&#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></div><div class="line"></div><div class="line"><span class="comment">// 导入默认 组件类</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">    <span class="keyword">static</span> propTypes = &#123;</div><div class="line">        name: React.PropTypes.string</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// 构造函数</span></div><div class="line">    <span class="keyword">constructor</span> (props) &#123;</div><div class="line">        <span class="comment">// 继承react组件</span></div><div class="line">        <span class="keyword">super</span>(props)</div><div class="line"></div><div class="line">        <span class="comment">// 定义state</span></div><div class="line">        <span class="keyword">this</span>.state = &#123; smilling: <span class="literal">false</span> &#125;</div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// 生命周期</span></div><div class="line">    componentWillMount() &#123;&#125;</div><div class="line">    componentDidMount() &#123;&#125;</div><div class="line">    componentWillUnmount()&#123;&#125;</div><div class="line"></div><div class="line">    <span class="comment">// getters and setters</span></div><div class="line">    <span class="comment">// es6</span></div><div class="line">    get attr() &#123;&#125;</div><div class="line"></div><div class="line">    <span class="comment">// 事件函数</span></div><div class="line">    <span class="comment">// band(this)</span></div><div class="line">    handleClick = () =&gt; &#123;</div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// 渲染</span></div><div class="line">    renderChild() &#123;&#125;</div><div class="line">    render() &#123;</div><div class="line">        <span class="keyword">return</span> (</div><div class="line">            <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"component"</span>&gt;</span></span></div><div class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;</span> <span class="attr">this.handleClick</span> &#125;&gt;</span>Click<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        )</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>关于 <code>react-router</code> 的介绍，参照<a href="https://github.com/ReactTraining/react-router" target="_blank" rel="external">https://github.com/ReactTraining/react-router</a></p>
<p>这里使用的是<code>webpack</code>中的<code>require.ensure([])</code> 特性做 react 程序的文件根据路由按需加载优化，并非 <code>all-in-one</code> 模式, 由于 react 本身体积不小加上其他依赖组件影响我们的首屏加载，比如你打开支付宝的<a href="http://ant.design/" target="_blank" rel="external">ant.design</a>官网会感觉好痛苦。</p>
<figure class="highlight livescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * 路由配置</div><div class="line"> * </div><div class="line"> * by tommyshao</div><div class="line"> */</div><div class="line"></div><div class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></div><div class="line"><span class="keyword">import</span> &#123; Router, hashHistory &#125; <span class="keyword">from</span> <span class="string">'react-router'</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> routes = &#123;</div><div class="line">    component: <span class="built_in">require</span>(<span class="string">'../containers/common/layout'</span>).<span class="keyword">default</span>,</div><div class="line">    childRoutes: [</div><div class="line">        &#123;</div><div class="line">            path: <span class="string">'/'</span>,</div><div class="line">            indexRoute: &#123;</div><div class="line">                onEnter: (nextState, replace) =&gt; replace(<span class="string">'Home'</span>)</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">            path: <span class="string">'Home'</span>,</div><div class="line">            getComponent(nextState, cb) &#123;</div><div class="line">                <span class="built_in">require</span>.ensure([], <span class="built_in">require</span> =&gt; &#123;</div><div class="line">                    cb(<span class="literal">null</span>, <span class="built_in">require</span>(<span class="string">'../containers/index'</span>).<span class="keyword">default</span>)</div><div class="line">                &#125;)</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> &lt;Router history=&#123; hashHistory &#125; routes=&#123; routes &#125; /&gt;</div></pre></td></tr></table></figure>
<h3 id="ES6介绍"><a href="#ES6介绍" class="headerlink" title="ES6介绍"></a>ES6介绍</h3><p><code>ES6</code> 是<code>EMCAscript 6</code> 的简写，之前有介绍过<a href="/2016/02/21/get-stared-use-es6/">拥抱 ES6</a>， <a href="http://babeljs.io/repl/" target="_blank" rel="external">http://babeljs.io/repl/</a>可以在线学习语法<a href="http://babeljs.io/docs/learn-es2015/" target="_blank" rel="external">http://babeljs.io/docs/learn-es2015/</a>。</p>
<p>通过<code>webpack</code>等工具编译后，<code>ES6</code>大部分语法转换成<code>ES5</code>, 大多数浏览器都支持<code>ES5</code>特性，个别浏览器需引入<code>es5-shime</code>等polyfill库,比如用 es6写的 jQuery 组件 <a href="http://frontui.github.io/BrickPlus/BP-JavaScriptComponents-Pagination.html" target="_blank" rel="external">BrickPlus</a>。</p>
<p>ES6常用语法:</p>
<ul>
<li>export,import</li>
<li>=&gt; 箭头函数</li>
<li>extends 继承</li>
<li>static 常量定义</li>
<li>class 类定义</li>
<li>字符串模板<code>`${name}</code> `</li>
<li>default, let, const 关键字</li>
<li>Promise</li>
<li>fetch api</li>
</ul>
<h3 id="react构建模板"><a href="#react构建模板" class="headerlink" title="react构建模板"></a>react构建模板</h3><p>react 构建模板我们需要分开 webpack 的配置文件和 react 的源文件，因此我们这样设计</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">├── README<span class="selector-class">.MD</span></div><div class="line">├── package<span class="selector-class">.json</span>      包信息</div><div class="line">├── build              webpack配置</div><div class="line">│   ├── ...</div><div class="line">├── src               react源文件</div><div class="line">    ├── ...</div></pre></td></tr></table></figure>
<p>根据不同开发阶段将 <code>webpack</code> 的配置文件拆成3部分。</p>
<ul>
<li>webpack.base.config.js</li>
<li>webpack.dev.config.js</li>
<li>webpack.prod.config.js</li>
</ul>
<h4 id="webpack-base-config-js"><a href="#webpack-base-config-js" class="headerlink" title="webpack.base.config.js"></a>webpack.base.config.js</h4><p>主要声明入口文件，输出目录，模块别名，加载器处理， less 编译，autoprefixer，px2rem 等</p>
<p><a href="https://github.com/tomieric/react-webpack-boilerplate/blob/master/build/webpack.base.config.js" target="_blank" rel="external">https://github.com/tomieric/react-webpack-boilerplate/blob/master/build/webpack.base.config.js</a></p>
<h4 id="webpack-dev-config-js"><a href="#webpack-dev-config-js" class="headerlink" title="webpack.dev.config.js"></a>webpack.dev.config.js</h4><p>主要启用<code>webpack-dev-server</code>，使用热插件局部刷新，http 服务器，http 接口代理，自动浏览器预览。</p>
<p><a href="https://github.com/tomieric/react-webpack-boilerplate/blob/master/build/webpack.dev.config.js" target="_blank" rel="external">https://github.com/tomieric/react-webpack-boilerplate/blob/master/build/webpack.dev.config.js</a></p>
<h4 id="webpack-prod-config-js"><a href="#webpack-prod-config-js" class="headerlink" title="webpack.prod.config.js"></a>webpack.prod.config.js</h4><p>生产构建发布主要做模块优化，去除 wepback 冗余文件，按体积分块拆分文件，清空生产目录，js 压缩，添加版权信息，公共模块抽取等。</p>
<p><a href="https://github.com/tomieric/react-webpack-boilerplate/blob/master/build/webpack.prod.config.js" target="_blank" rel="external">https://github.com/tomieric/react-webpack-boilerplate/blob/master/build/webpack.prod.config.js</a></p>
<p>我们在<code>package.json</code>中声明命令分别使用不同的配置文件</p>
<figure class="highlight erlang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">...</div><div class="line"> <span class="string">"scripts"</span>: &#123;</div><div class="line">    <span class="string">"start"</span>: <span class="string">"node node_modules/webpack-dev-server/bin/webpack-dev-server --config build/webpack.dev.config.js --inline"</span>,</div><div class="line">    <span class="string">"build"</span>: <span class="string">"node node_modules/webpack/bin/webpack --config build/webpack.prod.config.js --progress --profile --colors"</span></div><div class="line">  &#125;</div><div class="line">...</div></pre></td></tr></table></figure>
<p>开发阶段启动命令: <code>npm start</code> 自动打开浏览器进行预览。</p>
<p>生成发布命令: <code>npm run build</code> 生成了<code>assets</code>目录。</p>
<h3 id="react-使用"><a href="#react-使用" class="headerlink" title="react 使用"></a>react 使用</h3><p>当我们搭建好<code>webpack</code> 环境可以动手写 <code>react</code> 了， 首先看看入口文件 <code>entry.js</code>。</p>
<pre><code class="JavaScript">
<span class="comment">// 导入字体</span>
<span class="comment">//import './public/fonts/frontui-icon/fonticon/style.css'</span>

<span class="comment">// 导入公共样式</span>
<span class="keyword">import</span> <span class="string">'./public/less/common.less'</span>

<span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>
<span class="keyword">import</span> { render } <span class="keyword">from</span> <span class="string">'react-dom'</span>

<span class="comment">// 路由配置</span>
<span class="keyword">import</span> routes <span class="keyword">from</span> <span class="string">'./routes'</span>

<span class="comment">// 渲染模板</span>
render(
    routes,
    <span class="built_in">document</span>.getElementById(<span class="string">'app'</span>)
)
</code></pre>
<p>模板传送门：<a href="https://github.com/tomieric/react-webpack-boilerplate" target="_blank" rel="external">https://github.com/tomieric/react-webpack-boilerplate</a>，欢迎 star！</p>
<ul>
<li><a href="/2016/09/01/startkit-1/">配置5小时开发2分钟系列（1）</a></li>
<li><a href="/2016/09/03/startkit-2/">配置5小时开发2分钟系列（2）</a></li>
<li><a href="/2016/09/05/startkit-3/">配置5小时开发2分钟系列（3）</a></li>
<li><a href="/2016/09/08/startkit-4/">配置5小时开发2分钟系列（4）</a></li>
</ul>

            
                

            
        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">标签</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/browser-sync/">browser-sync</a> <a class="tag tag--primary tag--small t-link" href="/tags/gulp/">gulp</a> <a class="tag tag--primary tag--small t-link" href="/tags/webpack/">webpack</a>

            </div>
        
        <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/09/08/startkit-4/"  data-tooltip="配置5小时开发2分钟系列（4）—— react ie8 开发环境">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/09/03/startkit-2/" data-tooltip="配置5小时开发2分钟系列（2）—— gulp搭配browser-sync">
                
                    <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>


    <div class="post-actions post-action-share" style="float: left;padding-top:15px">
    <div class="ds-share" data-thread-key="2016/09/05/startkit-3/" data-title="配置5小时开发2分钟系列（3）—— webpack 搭配 react" data-images="" data-content="&lt;blockquote&gt;
&lt;p&gt;最近火遍朋友圈的 &lt;a href=&quot;https://www.v2ex.com/t/310767&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;在 2016 年学 JavaScript 是一种什么样的体验？&lt;/a&gt;，如果有一天选择做了前端，请把我埋在，深深的配置里…&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;在前两年觉得前端是最容易入门上手的，而近两年感觉门槛高了，各种眼花缭乱的构建工具，各种配置。 &lt;/p&gt;
&lt;p&gt;本篇带来的是 &lt;code&gt;webpack 搭配 react&lt;/code&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;webpack-介绍&quot;&gt;&lt;a href=&quot;#webpack-介绍&quot; class=&quot;headerlink&quot; title=&quot;webpack 介绍&quot;&gt;&lt;/a&gt;webpack 介绍&lt;/h3&gt;&lt;p&gt;&lt;code&gt;wepback&lt;/code&gt; 是模块化构建工具，同类的用&lt;code&gt;browserify&lt;/code&gt;,&lt;code&gt;FIS3&lt;/code&gt;。&lt;code&gt;webpack&lt;/code&gt;是支持&lt;code&gt;common.js&lt;/code&gt;和&lt;code&gt;es6&lt;/code&gt;模块化加载方式的系统，能根据模块化资源优化加载，抽取，合并等功能。非常适合单页面应用的 webapp 项目，同样的也支持多页面模块化管理，内置异步加载模块功能。主要组成部分：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;代码分割&lt;/li&gt;
&lt;li&gt;loader加载&lt;/li&gt;
&lt;li&gt;智能转换编译&lt;/li&gt;
&lt;li&gt;插件系统&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;安装webpack&quot;&gt;&lt;a href=&quot;#安装webpack&quot; class=&quot;headerlink&quot; title=&quot;安装webpack&quot;&gt;&lt;/a&gt;安装webpack&lt;/h4&gt;&lt;figure class=&quot;highlight coffeescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;npm&lt;/span&gt; init -&lt;span class=&quot;literal&quot;&gt;yes&lt;/span&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;npm&lt;/span&gt; install webpack --save-dev&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;安装完成后使用&lt;code&gt;webpack&lt;/code&gt; 命令编译 js 文件&lt;/p&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;webpack &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;entry&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;output&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;或者使用默认配置文件&lt;code&gt;webpack.config.js&lt;/code&gt;，编译时直接使用&lt;code&gt;webpack&lt;/code&gt;即可。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;webpack&lt;/code&gt;的配置大致以下几点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;context 上下文环境，一般不怎么使用, 默认是配置文件当前目录&lt;/li&gt;
&lt;li&gt;entry   入口文件，字符串为单入口，数组为多入口，字面量对象声明{ 生成文件名: [入口文件]}&lt;/li&gt;
&lt;li&gt;output  输出文件，声明输出文件名，目录，cdn 等&lt;/li&gt;
&lt;li&gt;module  模块分割处理&lt;ul&gt;
&lt;li&gt;loaders 加载器，根据模块的后缀名分别配置不同的加载器处理&lt;/li&gt;
&lt;li&gt;preLoaders, postLoaders 预加载后或编译后处理&lt;/li&gt;
&lt;li&gt;noParse 忽略模块声明&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;resolve   模块路径声明，同node寻找模块方式&lt;/li&gt;
&lt;li&gt;devServer 搭载&lt;code&gt;webpack-dev-server&lt;/code&gt;使用的配置&lt;/li&gt;
&lt;li&gt;plugins   声明使用插件，比如 css，js 的压缩&lt;/li&gt;
&lt;li&gt;etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight vim&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;module.exports = &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    entry: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        bundle: &lt;span class=&quot;string&quot;&gt;&#39;./src/entry.js&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    outpu&lt;span class=&quot;variable&quot;&gt;t:&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        path: &lt;span class=&quot;string&quot;&gt;&#39;./dist&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        filename: &lt;span class=&quot;string&quot;&gt;&#39;[name][hash].js&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    module: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        loader&lt;span class=&quot;variable&quot;&gt;s:&lt;/span&gt; [&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                tes&lt;span class=&quot;variable&quot;&gt;t:&lt;/span&gt; /\.css$/,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                loader: &lt;span class=&quot;string&quot;&gt;&#39;style-loader!css-loader&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                tes&lt;span class=&quot;variable&quot;&gt;t:&lt;/span&gt; /\.jsx?$/,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                loader: &lt;span class=&quot;string&quot;&gt;&#39;babel&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                query: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    preset&lt;span class=&quot;variable&quot;&gt;s:&lt;/span&gt; [&lt;span class=&quot;string&quot;&gt;&#39;react&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;es2015&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;stage-2&#39;&lt;/span&gt;]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;resolve&lt;/span&gt;: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        extension&lt;span class=&quot;variable&quot;&gt;s:&lt;/span&gt; [&lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;.js&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;.jsx&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;.css&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;.less&#39;&lt;/span&gt;]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        roo&lt;span class=&quot;variable&quot;&gt;t:&lt;/span&gt; [path.&lt;span class=&quot;built_in&quot;&gt;resolve&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;.src&#39;&lt;/span&gt;)]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    plugin&lt;span class=&quot;variable&quot;&gt;s:&lt;/span&gt; [&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; HtmlWebpackPlugin(&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            template: &lt;span class=&quot;string&quot;&gt;&#39;./src/index.html&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            filename: &lt;span class=&quot;string&quot;&gt;&#39;index.html&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            injec&lt;span class=&quot;variable&quot;&gt;t:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;body&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;使用&lt;code&gt;webpack-dev-server&lt;/code&gt;搭配启动项目，在配置文件中增加&lt;/p&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;selector-tag&quot;&gt;devServer&lt;/span&gt;: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;hot&lt;/span&gt;: true,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        host: &lt;span class=&quot;string&quot;&gt;&#39;127.0.0.1&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        port: &lt;span class=&quot;number&quot;&gt;3000&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        proxy: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;string&quot;&gt;&#39;/Api/*&#39;&lt;/span&gt;: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                target: &lt;span class=&quot;string&quot;&gt;&#39;http://192.168.0.2:3000&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                rewrite: &lt;span class=&quot;built_in&quot;&gt;function&lt;/span&gt;(req) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    req.url = req.url.&lt;span class=&quot;built_in&quot;&gt;replace&lt;/span&gt;(/^\/Api/, &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;a href=&quot;http://webpack.github.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://webpack.github.io/&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;react-介绍&quot;&gt;&lt;a href=&quot;#react-介绍&quot; class=&quot;headerlink&quot; title=&quot;react 介绍&quot;&gt;&lt;/a&gt;react 介绍&lt;/h3&gt;&lt;p&gt;&lt;code&gt;react&lt;/code&gt; 是 facebook 开源的用户交互js 库，是单向的数据流模式，有区别于 mvvm 框架的&lt;code&gt;vue&lt;/code&gt;, &lt;code&gt;angular&lt;/code&gt;。 &lt;code&gt;react&lt;/code&gt; 推出了自己的语法解析器 &lt;code&gt;jsx&lt;/code&gt;，同样的支持 es6的写法， &lt;code&gt;react&lt;/code&gt;是基于虚拟 dom（virtual Dom）因此具有良好的性能，包括最近比较火的微信小程序底层也是使用了&lt;code&gt;react&lt;/code&gt;。&lt;/p&gt;
&lt;figure class=&quot;highlight scala&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;HelloMessage&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;React&lt;/span&gt;.&lt;span class=&quot;title&quot;&gt;Component&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  constructor(props) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(props)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.state = &amp;#123;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  render() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &amp;lt;div&amp;gt;&lt;span class=&quot;type&quot;&gt;Hello&lt;/span&gt; &amp;#123;&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.props.name&amp;#125;&amp;lt;/div&amp;gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;type&quot;&gt;ReactDOM&lt;/span&gt;.render(&amp;lt;&lt;span class=&quot;type&quot;&gt;HelloMessage&lt;/span&gt; name=&lt;span class=&quot;string&quot;&gt;&quot;John&quot;&lt;/span&gt; /&amp;gt;, mountNode);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;初学者建议在这里学习 &lt;a href=&quot;http://babeljs.io/repl/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://babeljs.io/repl/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;react&lt;/code&gt; 主要涉及内容：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;require 包导入&lt;/li&gt;
&lt;li&gt;react &lt;/li&gt;
&lt;li&gt;react-dom &lt;/li&gt;
&lt;li&gt;react.component &lt;/li&gt;
&lt;li&gt;react-router&lt;/li&gt;
&lt;li&gt;构造函数constructor&lt;/li&gt;
&lt;li&gt;生命周期&lt;/li&gt;
&lt;li&gt;父子组件值传递props&lt;/li&gt;
&lt;li&gt;组件状态管理 state&lt;/li&gt;
&lt;li&gt;jsx 语法标签&lt;/li&gt;
&lt;li&gt;react 事件绑定&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;标准的组件写法&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 组件规范&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * by tommyshao&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 2016-08-03&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 引入React&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; React,&amp;#123; Component &amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;react&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 导入默认 组件类&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Person&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Component&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; propTypes = &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        name: React.PropTypes.string&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 构造函数&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;constructor&lt;/span&gt; (props) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// 继承react组件&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(props)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// 定义state&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.state = &amp;#123; smilling: &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt; &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 生命周期&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    componentWillMount() &amp;#123;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    componentDidMount() &amp;#123;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    componentWillUnmount()&amp;#123;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// getters and setters&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// es6&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    get attr() &amp;#123;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 事件函数&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// band(this)&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    handleClick = () =&amp;gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 渲染&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    renderChild() &amp;#123;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    render() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; (&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;className&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;component&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;button&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;onClick&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;#123;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;this.handleClick&lt;/span&gt; &amp;#125;&amp;gt;&lt;/span&gt;Click&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        )&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;关于 &lt;code&gt;react-router&lt;/code&gt; 的介绍，参照&lt;a href=&quot;https://github.com/ReactTraining/react-router&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/ReactTraining/react-router&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;这里使用的是&lt;code&gt;webpack&lt;/code&gt;中的&lt;code&gt;require.ensure([])&lt;/code&gt; 特性做 react 程序的文件根据路由按需加载优化，并非 &lt;code&gt;all-in-one&lt;/code&gt; 模式, 由于 react 本身体积不小加上其他依赖组件影响我们的首屏加载，比如你打开支付宝的&lt;a href=&quot;http://ant.design/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ant.design&lt;/a&gt;官网会感觉好痛苦。&lt;/p&gt;
&lt;figure class=&quot;highlight livescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 路由配置&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * &lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * by tommyshao&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;react&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &amp;#123; Router, hashHistory &amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;react-router&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; routes = &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    component: &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;../containers/common/layout&#39;&lt;/span&gt;).&lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    childRoutes: [&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            path: &lt;span class=&quot;string&quot;&gt;&#39;/&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            indexRoute: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                onEnter: (nextState, replace) =&amp;gt; replace(&lt;span class=&quot;string&quot;&gt;&#39;Home&#39;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            path: &lt;span class=&quot;string&quot;&gt;&#39;Home&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            getComponent(nextState, cb) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;.ensure([], &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt; =&amp;gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    cb(&lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;../containers/index&#39;&lt;/span&gt;).&lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &amp;#125;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt; &amp;lt;Router history=&amp;#123; hashHistory &amp;#125; routes=&amp;#123; routes &amp;#125; /&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;ES6介绍&quot;&gt;&lt;a href=&quot;#ES6介绍&quot; class=&quot;headerlink&quot; title=&quot;ES6介绍&quot;&gt;&lt;/a&gt;ES6介绍&lt;/h3&gt;&lt;p&gt;&lt;code&gt;ES6&lt;/code&gt; 是&lt;code&gt;EMCAscript 6&lt;/code&gt; 的简写，之前有介绍过&lt;a href=&quot;/2016/02/21/get-stared-use-es6/&quot;&gt;拥抱 ES6&lt;/a&gt;， &lt;a href=&quot;http://babeljs.io/repl/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://babeljs.io/repl/&lt;/a&gt;可以在线学习语法&lt;a href=&quot;http://babeljs.io/docs/learn-es2015/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://babeljs.io/docs/learn-es2015/&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;通过&lt;code&gt;webpack&lt;/code&gt;等工具编译后，&lt;code&gt;ES6&lt;/code&gt;大部分语法转换成&lt;code&gt;ES5&lt;/code&gt;, 大多数浏览器都支持&lt;code&gt;ES5&lt;/code&gt;特性，个别浏览器需引入&lt;code&gt;es5-shime&lt;/code&gt;等polyfill库,比如用 es6写的 jQuery 组件 &lt;a href=&quot;http://frontui.github.io/BrickPlus/BP-JavaScriptComponents-Pagination.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;BrickPlus&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;ES6常用语法:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;export,import&lt;/li&gt;
&lt;li&gt;=&amp;gt; 箭头函数&lt;/li&gt;
&lt;li&gt;extends 继承&lt;/li&gt;
&lt;li&gt;static 常量定义&lt;/li&gt;
&lt;li&gt;class 类定义&lt;/li&gt;
&lt;li&gt;字符串模板&lt;code&gt;`${name}&lt;/code&gt; `&lt;/li&gt;
&lt;li&gt;default, let, const 关键字&lt;/li&gt;
&lt;li&gt;Promise&lt;/li&gt;
&lt;li&gt;fetch api&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;react构建模板&quot;&gt;&lt;a href=&quot;#react构建模板&quot; class=&quot;headerlink&quot; title=&quot;react构建模板&quot;&gt;&lt;/a&gt;react构建模板&lt;/h3&gt;&lt;p&gt;react 构建模板我们需要分开 webpack 的配置文件和 react 的源文件，因此我们这样设计&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;├── README&lt;span class=&quot;selector-class&quot;&gt;.MD&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;├── package&lt;span class=&quot;selector-class&quot;&gt;.json&lt;/span&gt;      包信息&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;├── build              webpack配置&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;│   ├── ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;├── src               react源文件&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ├── ...&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;根据不同开发阶段将 &lt;code&gt;webpack&lt;/code&gt; 的配置文件拆成3部分。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;webpack.base.config.js&lt;/li&gt;
&lt;li&gt;webpack.dev.config.js&lt;/li&gt;
&lt;li&gt;webpack.prod.config.js&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;webpack-base-config-js&quot;&gt;&lt;a href=&quot;#webpack-base-config-js&quot; class=&quot;headerlink&quot; title=&quot;webpack.base.config.js&quot;&gt;&lt;/a&gt;webpack.base.config.js&lt;/h4&gt;&lt;p&gt;主要声明入口文件，输出目录，模块别名，加载器处理， less 编译，autoprefixer，px2rem 等&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/tomieric/react-webpack-boilerplate/blob/master/build/webpack.base.config.js&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/tomieric/react-webpack-boilerplate/blob/master/build/webpack.base.config.js&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;webpack-dev-config-js&quot;&gt;&lt;a href=&quot;#webpack-dev-config-js&quot; class=&quot;headerlink&quot; title=&quot;webpack.dev.config.js&quot;&gt;&lt;/a&gt;webpack.dev.config.js&lt;/h4&gt;&lt;p&gt;主要启用&lt;code&gt;webpack-dev-server&lt;/code&gt;，使用热插件局部刷新，http 服务器，http 接口代理，自动浏览器预览。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/tomieric/react-webpack-boilerplate/blob/master/build/webpack.dev.config.js&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/tomieric/react-webpack-boilerplate/blob/master/build/webpack.dev.config.js&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;webpack-prod-config-js&quot;&gt;&lt;a href=&quot;#webpack-prod-config-js&quot; class=&quot;headerlink&quot; title=&quot;webpack.prod.config.js&quot;&gt;&lt;/a&gt;webpack.prod.config.js&lt;/h4&gt;&lt;p&gt;生产构建发布主要做模块优化，去除 wepback 冗余文件，按体积分块拆分文件，清空生产目录，js 压缩，添加版权信息，公共模块抽取等。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/tomieric/react-webpack-boilerplate/blob/master/build/webpack.prod.config.js&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/tomieric/react-webpack-boilerplate/blob/master/build/webpack.prod.config.js&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;我们在&lt;code&gt;package.json&lt;/code&gt;中声明命令分别使用不同的配置文件&lt;/p&gt;
&lt;figure class=&quot;highlight erlang&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;span class=&quot;string&quot;&gt;&quot;scripts&quot;&lt;/span&gt;: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;start&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;node node_modules/webpack-dev-server/bin/webpack-dev-server --config build/webpack.dev.config.js --inline&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;build&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;node node_modules/webpack/bin/webpack --config build/webpack.prod.config.js --progress --profile --colors&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;开发阶段启动命令: &lt;code&gt;npm start&lt;/code&gt; 自动打开浏览器进行预览。&lt;/p&gt;
&lt;p&gt;生成发布命令: &lt;code&gt;npm run build&lt;/code&gt; 生成了&lt;code&gt;assets&lt;/code&gt;目录。&lt;/p&gt;
&lt;h3 id=&quot;react-使用&quot;&gt;&lt;a href=&quot;#react-使用&quot; class=&quot;headerlink&quot; title=&quot;react 使用&quot;&gt;&lt;/a&gt;react 使用&lt;/h3&gt;&lt;p&gt;当我们搭建好&lt;code&gt;webpack&lt;/code&gt; 环境可以动手写 &lt;code&gt;react&lt;/code&gt; 了， 首先看看入口文件 &lt;code&gt;entry.js&lt;/code&gt;。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;JavaScript&quot;&gt;
&lt;span class=&quot;comment&quot;&gt;// 导入字体&lt;/span&gt;
&lt;span class=&quot;comment&quot;&gt;//import &#39;./public/fonts/frontui-icon/fonticon/style.css&#39;&lt;/span&gt;

&lt;span class=&quot;comment&quot;&gt;// 导入公共样式&lt;/span&gt;
&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;./public/less/common.less&#39;&lt;/span&gt;

&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;react&#39;&lt;/span&gt;
&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; { render } &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;react-dom&#39;&lt;/span&gt;

&lt;span class=&quot;comment&quot;&gt;// 路由配置&lt;/span&gt;
&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; routes &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;./routes&#39;&lt;/span&gt;

&lt;span class=&quot;comment&quot;&gt;// 渲染模板&lt;/span&gt;
render(
    routes,
    &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&#39;app&#39;&lt;/span&gt;)
)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;模板传送门：&lt;a href=&quot;https://github.com/tomieric/react-webpack-boilerplate&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/tomieric/react-webpack-boilerplate&lt;/a&gt;，欢迎 star！&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/2016/09/01/startkit-1/&quot;&gt;配置5小时开发2分钟系列（1）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/2016/09/03/startkit-2/&quot;&gt;配置5小时开发2分钟系列（2）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/2016/09/05/startkit-3/&quot;&gt;配置5小时开发2分钟系列（3）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/2016/09/08/startkit-4/&quot;&gt;配置5小时开发2分钟系列（4）&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
" data-url="http://tomieric.github.io/2016/09/05/startkit-3/">
        <div class="ds-share-inline">
          <ul  class="ds-share-icons-16">
            
            <li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
            <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
            <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
            <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
            <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>
            
          </ul>
          <div class="ds-share-icons-more">
          </div>
        </div>
     </div>
    </div> 
</div>


        
            <!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="2016/09/05/startkit-3/" data-title="配置5小时开发2分钟系列（3）—— webpack 搭配 react" data-url="http://tomieric.github.io/2016/09/05/startkit-3/"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"getf2e"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2012 - 2016 TommyShao. All Rights Reserved. Powered by <a target="_blank" href="https://hexo.io">Hexo</a>. Theme by <a target="_blank" href="http://louisbarranqueiro.github.io/tranquilpeak-hexo-theme/">tranquilpeak</a>
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="3">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/09/08/startkit-4/"  data-tooltip="配置5小时开发2分钟系列（4）—— react ie8 开发环境">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/09/03/startkit-2/" data-tooltip="配置5小时开发2分钟系列（2）—— gulp搭配browser-sync">
                
                    <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>


    <div class="post-actions post-action-share" style="float: left;padding-top:15px">
    <div class="ds-share" data-thread-key="2016/09/05/startkit-3/" data-title="配置5小时开发2分钟系列（3）—— webpack 搭配 react" data-images="" data-content="&lt;blockquote&gt;
&lt;p&gt;最近火遍朋友圈的 &lt;a href=&quot;https://www.v2ex.com/t/310767&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;在 2016 年学 JavaScript 是一种什么样的体验？&lt;/a&gt;，如果有一天选择做了前端，请把我埋在，深深的配置里…&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;在前两年觉得前端是最容易入门上手的，而近两年感觉门槛高了，各种眼花缭乱的构建工具，各种配置。 &lt;/p&gt;
&lt;p&gt;本篇带来的是 &lt;code&gt;webpack 搭配 react&lt;/code&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;webpack-介绍&quot;&gt;&lt;a href=&quot;#webpack-介绍&quot; class=&quot;headerlink&quot; title=&quot;webpack 介绍&quot;&gt;&lt;/a&gt;webpack 介绍&lt;/h3&gt;&lt;p&gt;&lt;code&gt;wepback&lt;/code&gt; 是模块化构建工具，同类的用&lt;code&gt;browserify&lt;/code&gt;,&lt;code&gt;FIS3&lt;/code&gt;。&lt;code&gt;webpack&lt;/code&gt;是支持&lt;code&gt;common.js&lt;/code&gt;和&lt;code&gt;es6&lt;/code&gt;模块化加载方式的系统，能根据模块化资源优化加载，抽取，合并等功能。非常适合单页面应用的 webapp 项目，同样的也支持多页面模块化管理，内置异步加载模块功能。主要组成部分：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;代码分割&lt;/li&gt;
&lt;li&gt;loader加载&lt;/li&gt;
&lt;li&gt;智能转换编译&lt;/li&gt;
&lt;li&gt;插件系统&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;安装webpack&quot;&gt;&lt;a href=&quot;#安装webpack&quot; class=&quot;headerlink&quot; title=&quot;安装webpack&quot;&gt;&lt;/a&gt;安装webpack&lt;/h4&gt;&lt;figure class=&quot;highlight coffeescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;npm&lt;/span&gt; init -&lt;span class=&quot;literal&quot;&gt;yes&lt;/span&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;npm&lt;/span&gt; install webpack --save-dev&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;安装完成后使用&lt;code&gt;webpack&lt;/code&gt; 命令编译 js 文件&lt;/p&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;webpack &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;entry&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;output&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;或者使用默认配置文件&lt;code&gt;webpack.config.js&lt;/code&gt;，编译时直接使用&lt;code&gt;webpack&lt;/code&gt;即可。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;webpack&lt;/code&gt;的配置大致以下几点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;context 上下文环境，一般不怎么使用, 默认是配置文件当前目录&lt;/li&gt;
&lt;li&gt;entry   入口文件，字符串为单入口，数组为多入口，字面量对象声明{ 生成文件名: [入口文件]}&lt;/li&gt;
&lt;li&gt;output  输出文件，声明输出文件名，目录，cdn 等&lt;/li&gt;
&lt;li&gt;module  模块分割处理&lt;ul&gt;
&lt;li&gt;loaders 加载器，根据模块的后缀名分别配置不同的加载器处理&lt;/li&gt;
&lt;li&gt;preLoaders, postLoaders 预加载后或编译后处理&lt;/li&gt;
&lt;li&gt;noParse 忽略模块声明&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;resolve   模块路径声明，同node寻找模块方式&lt;/li&gt;
&lt;li&gt;devServer 搭载&lt;code&gt;webpack-dev-server&lt;/code&gt;使用的配置&lt;/li&gt;
&lt;li&gt;plugins   声明使用插件，比如 css，js 的压缩&lt;/li&gt;
&lt;li&gt;etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight vim&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;module.exports = &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    entry: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        bundle: &lt;span class=&quot;string&quot;&gt;&#39;./src/entry.js&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    outpu&lt;span class=&quot;variable&quot;&gt;t:&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        path: &lt;span class=&quot;string&quot;&gt;&#39;./dist&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        filename: &lt;span class=&quot;string&quot;&gt;&#39;[name][hash].js&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    module: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        loader&lt;span class=&quot;variable&quot;&gt;s:&lt;/span&gt; [&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                tes&lt;span class=&quot;variable&quot;&gt;t:&lt;/span&gt; /\.css$/,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                loader: &lt;span class=&quot;string&quot;&gt;&#39;style-loader!css-loader&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                tes&lt;span class=&quot;variable&quot;&gt;t:&lt;/span&gt; /\.jsx?$/,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                loader: &lt;span class=&quot;string&quot;&gt;&#39;babel&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                query: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    preset&lt;span class=&quot;variable&quot;&gt;s:&lt;/span&gt; [&lt;span class=&quot;string&quot;&gt;&#39;react&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;es2015&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;stage-2&#39;&lt;/span&gt;]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;resolve&lt;/span&gt;: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        extension&lt;span class=&quot;variable&quot;&gt;s:&lt;/span&gt; [&lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;.js&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;.jsx&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;.css&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;.less&#39;&lt;/span&gt;]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        roo&lt;span class=&quot;variable&quot;&gt;t:&lt;/span&gt; [path.&lt;span class=&quot;built_in&quot;&gt;resolve&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;.src&#39;&lt;/span&gt;)]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    plugin&lt;span class=&quot;variable&quot;&gt;s:&lt;/span&gt; [&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; HtmlWebpackPlugin(&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            template: &lt;span class=&quot;string&quot;&gt;&#39;./src/index.html&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            filename: &lt;span class=&quot;string&quot;&gt;&#39;index.html&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            injec&lt;span class=&quot;variable&quot;&gt;t:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;body&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;使用&lt;code&gt;webpack-dev-server&lt;/code&gt;搭配启动项目，在配置文件中增加&lt;/p&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;selector-tag&quot;&gt;devServer&lt;/span&gt;: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;hot&lt;/span&gt;: true,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        host: &lt;span class=&quot;string&quot;&gt;&#39;127.0.0.1&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        port: &lt;span class=&quot;number&quot;&gt;3000&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        proxy: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;string&quot;&gt;&#39;/Api/*&#39;&lt;/span&gt;: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                target: &lt;span class=&quot;string&quot;&gt;&#39;http://192.168.0.2:3000&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                rewrite: &lt;span class=&quot;built_in&quot;&gt;function&lt;/span&gt;(req) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    req.url = req.url.&lt;span class=&quot;built_in&quot;&gt;replace&lt;/span&gt;(/^\/Api/, &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;a href=&quot;http://webpack.github.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://webpack.github.io/&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;react-介绍&quot;&gt;&lt;a href=&quot;#react-介绍&quot; class=&quot;headerlink&quot; title=&quot;react 介绍&quot;&gt;&lt;/a&gt;react 介绍&lt;/h3&gt;&lt;p&gt;&lt;code&gt;react&lt;/code&gt; 是 facebook 开源的用户交互js 库，是单向的数据流模式，有区别于 mvvm 框架的&lt;code&gt;vue&lt;/code&gt;, &lt;code&gt;angular&lt;/code&gt;。 &lt;code&gt;react&lt;/code&gt; 推出了自己的语法解析器 &lt;code&gt;jsx&lt;/code&gt;，同样的支持 es6的写法， &lt;code&gt;react&lt;/code&gt;是基于虚拟 dom（virtual Dom）因此具有良好的性能，包括最近比较火的微信小程序底层也是使用了&lt;code&gt;react&lt;/code&gt;。&lt;/p&gt;
&lt;figure class=&quot;highlight scala&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;HelloMessage&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;React&lt;/span&gt;.&lt;span class=&quot;title&quot;&gt;Component&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  constructor(props) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(props)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.state = &amp;#123;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  render() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &amp;lt;div&amp;gt;&lt;span class=&quot;type&quot;&gt;Hello&lt;/span&gt; &amp;#123;&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.props.name&amp;#125;&amp;lt;/div&amp;gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;type&quot;&gt;ReactDOM&lt;/span&gt;.render(&amp;lt;&lt;span class=&quot;type&quot;&gt;HelloMessage&lt;/span&gt; name=&lt;span class=&quot;string&quot;&gt;&quot;John&quot;&lt;/span&gt; /&amp;gt;, mountNode);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;初学者建议在这里学习 &lt;a href=&quot;http://babeljs.io/repl/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://babeljs.io/repl/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;react&lt;/code&gt; 主要涉及内容：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;require 包导入&lt;/li&gt;
&lt;li&gt;react &lt;/li&gt;
&lt;li&gt;react-dom &lt;/li&gt;
&lt;li&gt;react.component &lt;/li&gt;
&lt;li&gt;react-router&lt;/li&gt;
&lt;li&gt;构造函数constructor&lt;/li&gt;
&lt;li&gt;生命周期&lt;/li&gt;
&lt;li&gt;父子组件值传递props&lt;/li&gt;
&lt;li&gt;组件状态管理 state&lt;/li&gt;
&lt;li&gt;jsx 语法标签&lt;/li&gt;
&lt;li&gt;react 事件绑定&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;标准的组件写法&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 组件规范&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * by tommyshao&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 2016-08-03&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 引入React&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; React,&amp;#123; Component &amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;react&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 导入默认 组件类&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Person&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Component&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; propTypes = &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        name: React.PropTypes.string&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 构造函数&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;constructor&lt;/span&gt; (props) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// 继承react组件&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(props)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// 定义state&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.state = &amp;#123; smilling: &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt; &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 生命周期&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    componentWillMount() &amp;#123;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    componentDidMount() &amp;#123;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    componentWillUnmount()&amp;#123;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// getters and setters&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// es6&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    get attr() &amp;#123;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 事件函数&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// band(this)&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    handleClick = () =&amp;gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 渲染&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    renderChild() &amp;#123;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    render() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; (&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;className&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;component&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;button&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;onClick&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;#123;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;this.handleClick&lt;/span&gt; &amp;#125;&amp;gt;&lt;/span&gt;Click&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        )&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;关于 &lt;code&gt;react-router&lt;/code&gt; 的介绍，参照&lt;a href=&quot;https://github.com/ReactTraining/react-router&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/ReactTraining/react-router&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;这里使用的是&lt;code&gt;webpack&lt;/code&gt;中的&lt;code&gt;require.ensure([])&lt;/code&gt; 特性做 react 程序的文件根据路由按需加载优化，并非 &lt;code&gt;all-in-one&lt;/code&gt; 模式, 由于 react 本身体积不小加上其他依赖组件影响我们的首屏加载，比如你打开支付宝的&lt;a href=&quot;http://ant.design/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ant.design&lt;/a&gt;官网会感觉好痛苦。&lt;/p&gt;
&lt;figure class=&quot;highlight livescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 路由配置&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * &lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * by tommyshao&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;react&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &amp;#123; Router, hashHistory &amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;react-router&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; routes = &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    component: &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;../containers/common/layout&#39;&lt;/span&gt;).&lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    childRoutes: [&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            path: &lt;span class=&quot;string&quot;&gt;&#39;/&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            indexRoute: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                onEnter: (nextState, replace) =&amp;gt; replace(&lt;span class=&quot;string&quot;&gt;&#39;Home&#39;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            path: &lt;span class=&quot;string&quot;&gt;&#39;Home&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            getComponent(nextState, cb) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;.ensure([], &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt; =&amp;gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    cb(&lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;../containers/index&#39;&lt;/span&gt;).&lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &amp;#125;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt; &amp;lt;Router history=&amp;#123; hashHistory &amp;#125; routes=&amp;#123; routes &amp;#125; /&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;ES6介绍&quot;&gt;&lt;a href=&quot;#ES6介绍&quot; class=&quot;headerlink&quot; title=&quot;ES6介绍&quot;&gt;&lt;/a&gt;ES6介绍&lt;/h3&gt;&lt;p&gt;&lt;code&gt;ES6&lt;/code&gt; 是&lt;code&gt;EMCAscript 6&lt;/code&gt; 的简写，之前有介绍过&lt;a href=&quot;/2016/02/21/get-stared-use-es6/&quot;&gt;拥抱 ES6&lt;/a&gt;， &lt;a href=&quot;http://babeljs.io/repl/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://babeljs.io/repl/&lt;/a&gt;可以在线学习语法&lt;a href=&quot;http://babeljs.io/docs/learn-es2015/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://babeljs.io/docs/learn-es2015/&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;通过&lt;code&gt;webpack&lt;/code&gt;等工具编译后，&lt;code&gt;ES6&lt;/code&gt;大部分语法转换成&lt;code&gt;ES5&lt;/code&gt;, 大多数浏览器都支持&lt;code&gt;ES5&lt;/code&gt;特性，个别浏览器需引入&lt;code&gt;es5-shime&lt;/code&gt;等polyfill库,比如用 es6写的 jQuery 组件 &lt;a href=&quot;http://frontui.github.io/BrickPlus/BP-JavaScriptComponents-Pagination.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;BrickPlus&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;ES6常用语法:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;export,import&lt;/li&gt;
&lt;li&gt;=&amp;gt; 箭头函数&lt;/li&gt;
&lt;li&gt;extends 继承&lt;/li&gt;
&lt;li&gt;static 常量定义&lt;/li&gt;
&lt;li&gt;class 类定义&lt;/li&gt;
&lt;li&gt;字符串模板&lt;code&gt;`${name}&lt;/code&gt; `&lt;/li&gt;
&lt;li&gt;default, let, const 关键字&lt;/li&gt;
&lt;li&gt;Promise&lt;/li&gt;
&lt;li&gt;fetch api&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;react构建模板&quot;&gt;&lt;a href=&quot;#react构建模板&quot; class=&quot;headerlink&quot; title=&quot;react构建模板&quot;&gt;&lt;/a&gt;react构建模板&lt;/h3&gt;&lt;p&gt;react 构建模板我们需要分开 webpack 的配置文件和 react 的源文件，因此我们这样设计&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;├── README&lt;span class=&quot;selector-class&quot;&gt;.MD&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;├── package&lt;span class=&quot;selector-class&quot;&gt;.json&lt;/span&gt;      包信息&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;├── build              webpack配置&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;│   ├── ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;├── src               react源文件&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ├── ...&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;根据不同开发阶段将 &lt;code&gt;webpack&lt;/code&gt; 的配置文件拆成3部分。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;webpack.base.config.js&lt;/li&gt;
&lt;li&gt;webpack.dev.config.js&lt;/li&gt;
&lt;li&gt;webpack.prod.config.js&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;webpack-base-config-js&quot;&gt;&lt;a href=&quot;#webpack-base-config-js&quot; class=&quot;headerlink&quot; title=&quot;webpack.base.config.js&quot;&gt;&lt;/a&gt;webpack.base.config.js&lt;/h4&gt;&lt;p&gt;主要声明入口文件，输出目录，模块别名，加载器处理， less 编译，autoprefixer，px2rem 等&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/tomieric/react-webpack-boilerplate/blob/master/build/webpack.base.config.js&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/tomieric/react-webpack-boilerplate/blob/master/build/webpack.base.config.js&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;webpack-dev-config-js&quot;&gt;&lt;a href=&quot;#webpack-dev-config-js&quot; class=&quot;headerlink&quot; title=&quot;webpack.dev.config.js&quot;&gt;&lt;/a&gt;webpack.dev.config.js&lt;/h4&gt;&lt;p&gt;主要启用&lt;code&gt;webpack-dev-server&lt;/code&gt;，使用热插件局部刷新，http 服务器，http 接口代理，自动浏览器预览。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/tomieric/react-webpack-boilerplate/blob/master/build/webpack.dev.config.js&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/tomieric/react-webpack-boilerplate/blob/master/build/webpack.dev.config.js&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;webpack-prod-config-js&quot;&gt;&lt;a href=&quot;#webpack-prod-config-js&quot; class=&quot;headerlink&quot; title=&quot;webpack.prod.config.js&quot;&gt;&lt;/a&gt;webpack.prod.config.js&lt;/h4&gt;&lt;p&gt;生产构建发布主要做模块优化，去除 wepback 冗余文件，按体积分块拆分文件，清空生产目录，js 压缩，添加版权信息，公共模块抽取等。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/tomieric/react-webpack-boilerplate/blob/master/build/webpack.prod.config.js&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/tomieric/react-webpack-boilerplate/blob/master/build/webpack.prod.config.js&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;我们在&lt;code&gt;package.json&lt;/code&gt;中声明命令分别使用不同的配置文件&lt;/p&gt;
&lt;figure class=&quot;highlight erlang&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;span class=&quot;string&quot;&gt;&quot;scripts&quot;&lt;/span&gt;: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;start&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;node node_modules/webpack-dev-server/bin/webpack-dev-server --config build/webpack.dev.config.js --inline&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;build&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;node node_modules/webpack/bin/webpack --config build/webpack.prod.config.js --progress --profile --colors&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;开发阶段启动命令: &lt;code&gt;npm start&lt;/code&gt; 自动打开浏览器进行预览。&lt;/p&gt;
&lt;p&gt;生成发布命令: &lt;code&gt;npm run build&lt;/code&gt; 生成了&lt;code&gt;assets&lt;/code&gt;目录。&lt;/p&gt;
&lt;h3 id=&quot;react-使用&quot;&gt;&lt;a href=&quot;#react-使用&quot; class=&quot;headerlink&quot; title=&quot;react 使用&quot;&gt;&lt;/a&gt;react 使用&lt;/h3&gt;&lt;p&gt;当我们搭建好&lt;code&gt;webpack&lt;/code&gt; 环境可以动手写 &lt;code&gt;react&lt;/code&gt; 了， 首先看看入口文件 &lt;code&gt;entry.js&lt;/code&gt;。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;JavaScript&quot;&gt;
&lt;span class=&quot;comment&quot;&gt;// 导入字体&lt;/span&gt;
&lt;span class=&quot;comment&quot;&gt;//import &#39;./public/fonts/frontui-icon/fonticon/style.css&#39;&lt;/span&gt;

&lt;span class=&quot;comment&quot;&gt;// 导入公共样式&lt;/span&gt;
&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;./public/less/common.less&#39;&lt;/span&gt;

&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;react&#39;&lt;/span&gt;
&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; { render } &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;react-dom&#39;&lt;/span&gt;

&lt;span class=&quot;comment&quot;&gt;// 路由配置&lt;/span&gt;
&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; routes &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;./routes&#39;&lt;/span&gt;

&lt;span class=&quot;comment&quot;&gt;// 渲染模板&lt;/span&gt;
render(
    routes,
    &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&#39;app&#39;&lt;/span&gt;)
)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;模板传送门：&lt;a href=&quot;https://github.com/tomieric/react-webpack-boilerplate&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/tomieric/react-webpack-boilerplate&lt;/a&gt;，欢迎 star！&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/2016/09/01/startkit-1/&quot;&gt;配置5小时开发2分钟系列（1）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/2016/09/03/startkit-2/&quot;&gt;配置5小时开发2分钟系列（2）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/2016/09/05/startkit-3/&quot;&gt;配置5小时开发2分钟系列（3）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/2016/09/08/startkit-4/&quot;&gt;配置5小时开发2分钟系列（4）&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
" data-url="http://tomieric.github.io/2016/09/05/startkit-3/">
        <div class="ds-share-inline">
          <ul  class="ds-share-icons-16">
            
            <li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
            <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
            <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
            <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
            <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>
            
          </ul>
          <div class="ds-share-icons-more">
          </div>
        </div>
     </div>
    </div> 
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="3">
    <ul class="share-options">
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=http://tomieric.github.io/2016/09/05/startkit-3/">
                <i class="fa fa-google-plus"></i><span class="">分享到 Google+</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://tomieric.github.io/2016/09/05/startkit-3/">
                <i class="fa fa-facebook-official"></i><span>分享到 Facebook</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=http://tomieric.github.io/2016/09/05/startkit-3/">
                <i class="fa fa-twitter"></i><span>分享到 Twitter</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="http://service.weibo.com/share/share.php?appkey=583395093&amp;title=&amp;url=http://tomieric.github.io/2016/09/05/startkit-3/&amp;source=bshare&amp;retcode=0&amp;ralateUid=1799786352">
                <i class="fa fa-weibo"></i><span>分享到 微博</span>
            </a>
        </li>
    </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
            
        </div>
        <!-- Define author's picture -->


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/avatar.jpg"/>
        
            <h4 id="about-card-name">TommyShao</h4>
        
            <h5 id="about-card-bio"><p>只想做一位安静的切图仔</p>
</h5>
        
        
            <h5 id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>前端开发工程师</p>

            </h5>
        
        
            <h5 id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                中国 广州
            </h5>
        
    </div>
</div>

        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
    </body>
    <!--SCRIPTS-->
<script src="/assets/js/script.min.js"></script>
<!--SCRIPTS END-->

</html>
